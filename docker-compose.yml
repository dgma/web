version: '3.7'

services:
  web:
    hostname: web
    image: web
    logging:
      driver: "json-file"
      options:
        max-file: "5"
        max-size: "100m"
    environment:
      - FACET_WALLET_PK=${FACET_WALLET_PK}
      - RPC=${RPC}
      - CHAIN_ID_HEX=${CHAIN_ID_HEX}
      - SENTRY_AUTH_TOKEN=${SENTRY_AUTH_TOKEN}
      - SENTRY_DSN=${SENTRY_DSN}
      - NEXT_PUBLIC_SENTRY_DSN=${SENTRY_DSN}
      - NETWORK_NAME=rabbit.dev
      - PORT=8081
    build:
      context: .
      args:
        - NPM_TOKEN=${NPM_TOKEN}
    ports:
      - "8081:8081"
    expose:
      - 8081
    networks:
      pub-shared-net:

networks:
  pub-shared-net:
    name: pub-shared-net
    external: true